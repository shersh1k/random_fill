{"version":3,"sources":["Helpers/classes.ts","Helpers/functions.ts","store/game/actions.ts","store/game/types.ts","components/Configurator/index.tsx","components/Header/index.tsx","components/ControlPanel/Title.tsx","components/GameField/Cell.tsx","components/ControlPanel/index.tsx","components/GameField/Title.tsx","components/GameField/index.tsx","components/Game/index.tsx","components/Footer/index.tsx","components/App/index.tsx","serviceWorker.ts","store/game/reducers.ts","store/index.ts","index.tsx"],"names":["TCell","content","opacity","this","Cell","x","y","currentContent","gameField","makeFieldMatrix","color","fieldMatrix","iX","firstLevelArray","iY","push","getRandomInt","max","Math","floor","random","autofilling","boolArr","map","itemY","itemX","flat","filter","item","length","forEach","checkSiblings","field","isInsideField","top","right","bottom","left","siblingCellsArr","undefined","setTempFieldMatrix","newFieldMatrix","dispatch","type","tempFieldMatrix","setPlayer","player","dice","currentFigure","currentPlayer","Configurator","useDispatch","initialValues","players","onFinish","config","index","name","count","className","title","direction","Item","layout","label","rules","required","message","min","List","fields","add","remove","style","minHeight","minWidth","key","noStyle","placeholder","width","MinusCircleOutlined","marginLeft","onClick","PlusOutlined","block","htmlType","labelCol","span","wrapperCol","Header","Title","additionScore","useSelector","state","game","fontSize","height","backgroundColor","ControlPanel","newFigureRef","useRef","dices","cellWidth","cellHeight","useState","stepDone","setStepDone","rollDiceDone","setRollDiceDone","mouseMoveHandler","useCallback","e","current","pageX","offsetWidth","pageY","offsetHeight","currentFigureX","currentFigureY","position","actions","icon","UndoOutlined","disabled","CaretRightOutlined","isDifferent","join","playerIndex","findIndex","nextPlayer","Object","assign","emptyCells","sortByCount","slice","sort","a","b","alert","display","justifyContent","size","playerColor","firstDice","secondDice","FallOutlined","rotateFigure","RotateRightOutlined","onConfirm","danger","FastForwardOutlined","ref","onMouseDown","document","addEventListener","onMouseUp","removeEventListener","alignItems","GameField","fieldMatrixRef","geometry","setGeometry","useEffect","resizeHandler","getBoundingClientRect","window","insideX","insideY","isInsideGameField","rectCoord","mouseOverCellX","mouseOverCellY","xStart","round","xEnd","yStart","yEnd","setRectangleCells","isFM","isOverEdge","isInCorner","figure","isFirstMove","siblingCells","reduce","acc","arr","isInsertByRules","indexY","indexX","fillFieldMatrix","Game","fontWeight","Footer","href","GithubOutlined","GoogleOutlined","SkypeOutlined","LinkedinOutlined","App","Boolean","location","hostname","match","initialState","middlewares","thunkMiddleware","store","createStore","combineReducers","action","applyMiddleware","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.5252bda4.chunk.js","sourcesContent":["export class TCell {\r\n  content: boolean | '?' | null;\r\n  opacity: number;\r\n  constructor(content: boolean | '?' | null, opacity: number) {\r\n    this.content = content;\r\n    this.opacity = opacity;\r\n  }\r\n}\r\n\r\nexport class Cell {\r\n  x: number;\r\n  y: number;\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n  currentContent = (gameField: TCell[][]) => {\r\n    return gameField[this.y]?.[this.x];\r\n  };\r\n}\r\n","import { Dice, PlayerColor, GameArray, TypeCell, iConfig, Dices, iPlayer } from '../store/game/types';\r\nimport { TCell, Cell } from '.';\r\nimport { iPosition, iRectangleCells } from './interfaces';\r\n\r\nexport function makeFieldMatrix(y: number, x: number, color?: PlayerColor): GameArray {\r\n  const fieldMatrix: GameArray = [];\r\n  for (let iX = 0; iX < x; iX++) {\r\n    const firstLevelArray: Array<TypeCell | null> = [];\r\n    for (let iY = 0; iY < y; iY++) firstLevelArray.push(color ? { color, opacity: 1 } : null);\r\n    fieldMatrix.push(firstLevelArray);\r\n  }\r\n  return fieldMatrix;\r\n}\r\n\r\nexport function getRandomInt(max: number = 6): Dice {\r\n  return (Math.floor(Math.random() * max) + 1) as Dice;\r\n}\r\n\r\nexport function autofilling(fieldMatrix: GameArray, color: PlayerColor) {\r\n  const boolArr = fieldMatrix.map((itemY, iY) => {\r\n    return itemY.map((itemX, iX) => {\r\n      if (itemX?.color === color) return new TCell(true, itemX.opacity);\r\n      if (itemX === null) return new TCell(null, 1);\r\n      else return new TCell(false, itemX.opacity);\r\n    });\r\n  });\r\n  if (boolArr.flat().filter((item) => item.content === false).length) {\r\n    let a = fillTrue(boolArr);\r\n    a.forEach((item, iY) =>\r\n      item.forEach((item, iX) => {\r\n        if (item.content === true) fieldMatrix[iY][iX] = { color, opacity: item.opacity };\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport function fillTrue(gameField: Array<Array<TCell>>): TCell[][] {\r\n  gameField.forEach((itemY, iY) =>\r\n    itemY.forEach((itemX, iX) => {\r\n      if (gameField[iY][iX].content === false) return;\r\n      else {\r\n        checkSiblings(gameField, { y: iY, x: iX });\r\n        gameField.forEach((item, iY) =>\r\n          item.forEach((item, iX) => {\r\n            if (item.content === '?') {\r\n              gameField[iY][iX].content = true;\r\n              gameField[iY][iX].opacity = 0.5;\r\n            }\r\n          })\r\n        );\r\n      }\r\n    })\r\n  );\r\n  return gameField;\r\n}\r\n\r\nexport function checkSiblings(gameField: Array<Array<TCell>>, { x, y }: iPosition): boolean {\r\n  if (gameField[y][x].content === true || isInsideField(x, y, gameField)) return true;\r\n\r\n  const top = new Cell(x, y - 1);\r\n  const right = new Cell(x + 1, y);\r\n  const bottom = new Cell(x, y + 1);\r\n  const left = new Cell(x - 1, y);\r\n  const siblingCellsArr = [top, right, bottom, left];\r\n\r\n  if (siblingCellsArr.filter((item) => item.currentContent(gameField)?.content === false).length > 0) {\r\n    siblingCellsArr.forEach((item) => {\r\n      if (item.currentContent(gameField) !== undefined && item.currentContent(gameField).content !== true)\r\n        gameField[item.y][item.x].content = false;\r\n    });\r\n    if (gameField[y][x] !== undefined && gameField[y][x].content !== true) gameField[y][x].content = false;\r\n    gameField.forEach((item, iY) =>\r\n      item.forEach((item, iX) => {\r\n        if (item.content === '?') gameField[iY][iX].content = false;\r\n      })\r\n    );\r\n    return false;\r\n  } else {\r\n    gameField[y][x].content = '?';\r\n    const arr = siblingCellsArr.filter((item) => {\r\n      if (\r\n        item.currentContent(gameField) === undefined ||\r\n        item.currentContent(gameField).content === true ||\r\n        item.currentContent(gameField).content === '?'\r\n      )\r\n        return true;\r\n      if (item.currentContent(gameField).content === null) {\r\n        return checkSiblings(gameField, { x: item.x, y: item.y });\r\n      }\r\n      return false;\r\n    });\r\n    return arr.length >= 4;\r\n  }\r\n}\r\n\r\nexport function isInsideField(x: number, y: number, field: TCell[][]) {\r\n  if (y < 0 || x < 0 || y >= field.length || x >= field[0].length) return true;\r\n  return false;\r\n}\r\n\r\nexport function isFirstMove(count?: number) {\r\n  return count === 0;\r\n}\r\n\r\nexport function isInsideGameField(geometry: DOMRect, currentFigureX: number, currentFigureY: number) {\r\n  const insideX = geometry.left < currentFigureX && geometry.right > currentFigureX;\r\n  const insideY = geometry.top < currentFigureY && geometry.bottom > currentFigureY;\r\n  if (insideX && insideY) return true;\r\n  return false;\r\n}\r\n\r\nexport function isInCorner(rectCoord: iRectangleCells, { x, y }: iConfig) {\r\n  if (\r\n    (rectCoord.xStart <= 0 && rectCoord.yStart <= 0) ||\r\n    (rectCoord.xEnd === x && rectCoord.yStart <= 0) ||\r\n    (rectCoord.xStart === 0 && rectCoord.yEnd === y) ||\r\n    (rectCoord.xEnd === x && rectCoord.yEnd === y)\r\n  )\r\n    return true;\r\n  return false;\r\n}\r\n\r\nexport function isOverEdge(rectCoord: iRectangleCells, { x, y }: iConfig) {\r\n  if (rectCoord.xStart < 0 || rectCoord.xEnd > x || rectCoord.yStart < 0 || rectCoord.yEnd > y) return true;\r\n  return false;\r\n}\r\n\r\nexport function setRectangleCells(mouseOverCellX: number, mouseOverCellY: number, dice: Dices): iRectangleCells {\r\n  return {\r\n    xStart: Math.round(mouseOverCellX - dice[0] / 2),\r\n    xEnd: Math.round(mouseOverCellX + dice[0] / 2),\r\n    yStart: Math.round(mouseOverCellY - dice[1] / 2),\r\n    yEnd: Math.round(mouseOverCellY + dice[1] / 2),\r\n  };\r\n}\r\n\r\nexport function isInsertByRules(field: GameArray, figure: iRectangleCells, player: iPlayer, isFirstMove: boolean) {\r\n  if (isFirstMove) return true;\r\n  const siblingCells = field.reduce((acc, itemY, iY, arr) => {\r\n    if (figure.yStart - 1 === iY || iY === figure.yEnd)\r\n      acc.push(...itemY.filter((itemX, iX) => figure.xStart <= iX && iX < figure.xEnd));\r\n    if (figure.yStart <= iY && iY < figure.yEnd) {\r\n      acc.push(...itemY.filter((itemX, iX) => figure.xStart - 1 === iX || iX === figure.xEnd));\r\n    }\r\n    return acc;\r\n  }, []);\r\n  const cellsUnderFigure = field.reduce((acc, itemY, iY, arr) => {\r\n    if (figure.yStart <= iY && iY < figure.yEnd)\r\n      acc.push(...itemY.filter((itemX, iX) => figure.xStart <= iX && iX < figure.xEnd));\r\n    return acc;\r\n  }, []);\r\n  if (cellsUnderFigure.filter((item) => item).length > 0) return false;\r\n  if (siblingCells.filter((item) => item?.color === player.color).length > 0) return true;\r\n  return false;\r\n}\r\n\r\nexport function fillFieldMatrix(fieldMatrix: GameArray, rectCoord: iRectangleCells, color: PlayerColor, isFM: boolean) {\r\n  const newFieldMatrix = fieldMatrix.map((item, indexY) => {\r\n    if (rectCoord.yStart <= indexY && indexY < rectCoord.yEnd) {\r\n      return item.map((item, indexX) => {\r\n        if (rectCoord.xStart <= indexX && indexX < rectCoord.xEnd) return { color: color, opacity: 0.5 };\r\n        return item ? Object.assign({}, item) : null;\r\n      });\r\n    }\r\n    return item.slice();\r\n  });\r\n  if (!isFM) autofilling(newFieldMatrix, color);\r\n  return newFieldMatrix;\r\n}\r\n","import { Dispatch } from 'redux';\r\nimport {\r\n  ROLL_THE_DICE,\r\n  GameActionTypes,\r\n  Dice,\r\n  ROTATE_FIGURE,\r\n  Dices,\r\n  iConfig,\r\n  SET_CONFIG,\r\n  iPlayer,\r\n  PlayerColor,\r\n  GameArray,\r\n  SET_FIGURE_POSITION,\r\n  SET_FIELD_MATRIX,\r\n  SET_FINAL_FIGURE_POSITION,\r\n  SET_TEMP_FIELD_MATRIX,\r\n  SET_PLAYER,\r\n  SET_CELL_SIDES,\r\n  SET_NEW_GAME,\r\n} from './types';\r\nimport { getRandomInt, makeFieldMatrix } from '../../Helpers';\r\n\r\nexport function rollTheDice(playerColor?: PlayerColor) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    const firstDice: Dice = getRandomInt();\r\n    const secondDice: Dice = getRandomInt();\r\n    dispatch({\r\n      type: ROLL_THE_DICE,\r\n      dice: [firstDice, secondDice],\r\n      currentFigure: makeFieldMatrix(firstDice, secondDice, playerColor),\r\n    });\r\n  };\r\n}\r\n\r\nexport function rotateFigure(dices: Dices, playerColor?: PlayerColor) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    const firstDice = dices[1];\r\n    const secondDice = dices[0];\r\n    dispatch({\r\n      type: ROTATE_FIGURE,\r\n      dice: [firstDice, secondDice],\r\n      currentFigure: makeFieldMatrix(firstDice, secondDice, playerColor),\r\n    });\r\n  };\r\n}\r\n\r\nexport function setConfig(config: iConfig) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    const players: Array<iPlayer> = config.players.map(\r\n      (item, index) => ({ name: item, color: ['Red', 'Green', 'Yellow', 'Blue'][index], count: 0 } as iPlayer)\r\n    );\r\n    const currentPlayer = players[getRandomInt(players.length) - 1];\r\n    dispatch({\r\n      type: SET_CONFIG,\r\n      config: config,\r\n      fieldMatrix: makeFieldMatrix(config.x, config.y),\r\n      tempFieldMatrix: makeFieldMatrix(config.x, config.y),\r\n      players: players,\r\n      currentPlayer: currentPlayer,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setFigurePosition(x: number, y: number) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_FIGURE_POSITION,\r\n      currentFigureX: x,\r\n      currentFigureY: y,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setFieldMatrix(newFieldMatrix: GameArray) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_FIELD_MATRIX,\r\n      fieldMatrix: newFieldMatrix,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setTempFieldMatrix(newFieldMatrix: GameArray) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_TEMP_FIELD_MATRIX,\r\n      tempFieldMatrix: newFieldMatrix,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setFinalFigurePosition(newFieldMatrix: GameArray) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_FINAL_FIGURE_POSITION,\r\n      tempFieldMatrix: newFieldMatrix,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setPlayer(player: iPlayer) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_PLAYER,\r\n      dice: null,\r\n      currentFigure: null,\r\n      currentPlayer: player,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setCellSides(width: number, height: number) {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_CELL_SIDES,\r\n      cellWidth: width,\r\n      cellHeight: height,\r\n    });\r\n  };\r\n}\r\n\r\nexport function setNewGame() {\r\n  return function (dispatch: Dispatch<GameActionTypes>) {\r\n    dispatch({\r\n      type: SET_NEW_GAME,\r\n      config: null,\r\n    });\r\n  };\r\n}\r\n","export const ROLL_THE_DICE = 'ROLL_THE_DICE';\r\nexport const ROTATE_FIGURE = 'ROTATE_FIGURE';\r\nexport const SET_CONFIG = 'SET_CONFIG';\r\nexport const SET_FIGURE_POSITION = 'SET_FIGURE_POSITION';\r\nexport const SET_FIELD_MATRIX = 'SET_FIELD_MATRIX';\r\nexport const SET_TEMP_FIELD_MATRIX = 'SET_TEMP_FIELD_MATRIX';\r\nexport const SET_FINAL_FIGURE_POSITION = 'SET_FINAL_FIGURE_POSITION';\r\nexport const SET_PLAYER = 'SET_PLAYER';\r\nexport const SET_CELL_SIDES = 'SET_CELL_SIDES';\r\nexport const SET_NEW_GAME = 'SET_NEW_GAME';\r\n\r\nexport interface GameState {\r\n  config: iConfig | null;\r\n  cellWidth: number;\r\n  cellHeight: number;\r\n  fieldMatrix: GameArray | null;\r\n  tempFieldMatrix: GameArray | null;\r\n  dice: Dices | null;\r\n  currentFigure: GameArray | null;\r\n  currentFigureX: number;\r\n  currentFigureY: number;\r\n  players: Array<iPlayer> | null;\r\n  currentPlayer: iPlayer | null;\r\n}\r\n\r\nexport interface iConfig {\r\n  x: number;\r\n  y: number;\r\n  players: Array<string>;\r\n}\r\nexport interface iPlayer {\r\n  name: string;\r\n  color: PlayerColor;\r\n  count: number;\r\n}\r\nexport type GameArray = Array<Array<TypeCell | null>>;\r\nexport interface TypeCell {\r\n  color: PlayerColor;\r\n  opacity: number;\r\n}\r\nexport type PlayerColor = 'Red' | 'Green' | 'Yellow' | 'Blue';\r\nexport type Dices = [Dice, Dice];\r\nexport type Dice = 1 | 2 | 3 | 4 | 5 | 6;\r\n\r\ninterface RollTheDice {\r\n  type: typeof ROLL_THE_DICE;\r\n  dice: Dices;\r\n  currentFigure: GameArray;\r\n}\r\n\r\ninterface RotateFigure {\r\n  type: typeof ROTATE_FIGURE;\r\n  dice: Dices;\r\n  currentFigure: GameArray;\r\n}\r\n\r\ninterface SetConfig {\r\n  type: typeof SET_CONFIG;\r\n  config: iConfig;\r\n  fieldMatrix: GameArray;\r\n  tempFieldMatrix: GameArray;\r\n  players: Array<iPlayer> | null;\r\n  currentPlayer: iPlayer;\r\n}\r\n\r\ninterface SetFigurePosition {\r\n  type: typeof SET_FIGURE_POSITION;\r\n  currentFigureX: number;\r\n  currentFigureY: number;\r\n}\r\n\r\ninterface SetFinalFigurePosition {\r\n  type: typeof SET_FINAL_FIGURE_POSITION;\r\n  tempFieldMatrix: GameArray | null;\r\n}\r\n\r\ninterface SetFieldMatrix {\r\n  type: typeof SET_FIELD_MATRIX;\r\n  fieldMatrix: GameArray | null;\r\n}\r\n\r\ninterface SetTempFieldMatrix {\r\n  type: typeof SET_TEMP_FIELD_MATRIX;\r\n  tempFieldMatrix: GameArray | null;\r\n}\r\n\r\ninterface SetPlayer {\r\n  type: typeof SET_PLAYER;\r\n  currentPlayer: iPlayer | null;\r\n}\r\n\r\ninterface SetCellSides {\r\n  type: typeof SET_CELL_SIDES;\r\n  cellWidth: number;\r\n  cellHeight: number;\r\n}\r\n\r\ninterface SetNewGame {\r\n  type: typeof SET_NEW_GAME;\r\n  config: iConfig | null;\r\n}\r\n\r\nexport type GameActionTypes =\r\n  | RollTheDice\r\n  | RotateFigure\r\n  | SetConfig\r\n  | SetFigurePosition\r\n  | SetFieldMatrix\r\n  | SetFinalFigurePosition\r\n  | SetTempFieldMatrix\r\n  | SetPlayer\r\n  | SetCellSides\r\n  | SetNewGame;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setConfig } from '../../store/game/actions';\r\nimport { Form, Button, Input, InputNumber, Space, Card } from 'antd';\r\nimport { Store } from 'antd/lib/form/interface';\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './Configurator.css';\r\n\r\nfunction Configurator() {\r\n  const dispatch = useDispatch();\r\n  const submit = ({ x, y, players }: Store) => dispatch(setConfig({ x, y, players }));\r\n  return (\r\n    <Form\r\n      initialValues={{ x: 20, y: 20, players: ['Player 1', 'Player 2'] }}\r\n      onFinish={submit}\r\n      className='configurator'>\r\n      <Card title={'Configurator'}>\r\n        <Space direction='vertical'>\r\n          <Form.Item\r\n            {...layout}\r\n            label='Cells horizontaly'\r\n            name='x'\r\n            rules={[{ required: true, message: 'Please, input Y cells' }]}>\r\n            <InputNumber min={20} max={50} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            {...layout}\r\n            label='Cells verticaly'\r\n            name='y'\r\n            rules={[{ required: true, message: 'Please, input X cells' }]}>\r\n            <InputNumber min={20} max={50} />\r\n          </Form.Item>\r\n          <Form.List name='players'>\r\n            {(fields, { add, remove }) => {\r\n              return (\r\n                <div style={{ minHeight: 224, minWidth: 270 }}>\r\n                  {fields.map((field, index) => (\r\n                    <Form.Item label={`Player ${index + 1}`} required={true} key={field.key}>\r\n                      <Form.Item\r\n                        {...field}\r\n                        rules={[{ required: true, message: `Please input player's name.` }]}\r\n                        noStyle>\r\n                        <Input placeholder='player name' style={{ width: '90%' }} />\r\n                      </Form.Item>\r\n                      {fields.length > 2 ? (\r\n                        <MinusCircleOutlined\r\n                          style={{ marginLeft: 5 }}\r\n                          title='Remove player'\r\n                          onClick={() => remove(field.name)}\r\n                        />\r\n                      ) : null}\r\n                    </Form.Item>\r\n                  ))}\r\n                  {fields.length < 4 ? (\r\n                    <Form.Item>\r\n                      <Button title='Add player' type='dashed' onClick={() => add(`Player ${fields.length + 1}`)}>\r\n                        <PlusOutlined /> Add player\r\n                      </Button>\r\n                    </Form.Item>\r\n                  ) : null}\r\n                </div>\r\n              );\r\n            }}\r\n          </Form.List>\r\n\r\n          <Form.Item>\r\n            <Button type='primary' block htmlType='submit' title='Start game'>\r\n              Start\r\n            </Button>\r\n          </Form.Item>\r\n        </Space>\r\n      </Card>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default Configurator;\r\n\r\nconst layout = {\r\n  labelCol: { span: 12 },\r\n  wrapperCol: { span: 12 },\r\n};\r\n","import React from 'react';\r\nimport './Header.css';\r\n\r\nfunction Header() {\r\n  return <div className='header'>GAME RANDOMFILL</div>;\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { iPlayer } from '../../store/game/types';\r\nimport { useSelector } from 'react-redux';\r\nimport { iState } from '../../store';\r\n\r\nconst Title = ({ player }: { player: iPlayer | null }) => {\r\n  const additionScore = useSelector((state: iState) => state.game.tempFieldMatrix)\r\n    ?.flat()\r\n    .filter((item) => item?.opacity === 0.5).length;\r\n  if (!player) return null;\r\n  const { name, count, color } = player;\r\n  return (\r\n    <div>\r\n      <div>{name}</div>\r\n      <div style={{ color, fontSize: 12 }}>\r\n        score: {count} {additionScore ? `+ ${additionScore} = ${count + additionScore}` : ''}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React from 'react';\r\nimport { TypeCell } from '../../store/game/types';\r\n\r\nexport default function Cell({ item, width, height }: { item: TypeCell | null; width: number; height: number }) {\r\n  return (\r\n    <span\r\n      style={{ backgroundColor: item?.color || '', opacity: item?.opacity, width, height }}\r\n      className='game-field__cell'></span>\r\n  );\r\n}\r\n","import React, { useRef, useState, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Card, Popconfirm, Space } from 'antd';\r\nimport {\r\n  UndoOutlined,\r\n  RotateRightOutlined,\r\n  FastForwardOutlined,\r\n  CaretRightOutlined,\r\n  FallOutlined,\r\n} from '@ant-design/icons';\r\nimport { iState, store } from '../../store';\r\nimport {\r\n  rollTheDice,\r\n  rotateFigure,\r\n  setFigurePosition,\r\n  setFieldMatrix,\r\n  setTempFieldMatrix,\r\n  setPlayer,\r\n  setNewGame,\r\n} from '../../store/game/actions';\r\n\r\nimport './ControlPanel.css';\r\nimport Title from './Title';\r\nimport Cell from '../GameField/Cell';\r\n\r\nfunction ControlPanel() {\r\n  const newFigureRef = useRef<HTMLDivElement>(null);\r\n  const dices = useSelector((state: iState) => state.game.dice);\r\n  const currentFigure = useSelector((state: iState) => state.game.currentFigure);\r\n  const currentPlayer = useSelector((state: iState) => state.game.currentPlayer);\r\n  const cellWidth = useSelector((state: iState) => state.game.cellWidth);\r\n  const cellHeight = useSelector((state: iState) => state.game.cellHeight);\r\n  const players = useSelector((state: iState) => state.game.players);\r\n  const tempFieldMatrix = useSelector((state: iState) => state.game.tempFieldMatrix);\r\n  const fieldMatrix = useSelector((state: iState) => state.game.fieldMatrix);\r\n  const [stepDone, setStepDone] = useState(false);\r\n  const [rollDiceDone, setRollDiceDone] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const mouseMoveHandler = useCallback(\r\n    (e: MouseEvent) => {\r\n      if (!newFigureRef.current) return;\r\n      newFigureRef.current.style.left = e.pageX - newFigureRef.current.offsetWidth / 2 + 'px';\r\n      newFigureRef.current.style.top = e.pageY - newFigureRef.current.offsetHeight / 2 + 'px';\r\n      dispatch(setFigurePosition(e.x, e.y));\r\n    },\r\n    [dispatch]\r\n  );\r\n  const clickHandlerRoll = () => {\r\n    if (!currentPlayer?.color) return;\r\n    setRollDiceDone(true);\r\n    dispatch(rollTheDice(currentPlayer?.color));\r\n  };\r\n  const clickHandlerRotate = () => {\r\n    if (!currentPlayer?.color) return;\r\n    dispatch(rotateFigure(dices || [1, 1], currentPlayer?.color));\r\n  };\r\n  const onMouseDownHandler = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    if (!newFigureRef.current) return;\r\n    newFigureRef.current.style.position = 'absolute';\r\n    newFigureRef.current.style.top = e.pageY - newFigureRef.current.offsetHeight / 2 + 'px';\r\n    newFigureRef.current.style.left = e.pageX - newFigureRef.current.offsetWidth / 2 + 'px';\r\n    document.addEventListener('mousemove', mouseMoveHandler);\r\n  };\r\n  const onMouseUpHandler = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n    document.removeEventListener('mousemove', mouseMoveHandler);\r\n    if (!newFigureRef.current) return;\r\n    newFigureRef.current.style.position = 'static';\r\n    newFigureRef.current.style.top = 'auto';\r\n    newFigureRef.current.style.left = 'auto';\r\n    const isDifferent = tempFieldMatrix?.join() !== fieldMatrix?.join();\r\n    if (tempFieldMatrix && isDifferent) {\r\n      setStepDone(true);\r\n    }\r\n  };\r\n  const undoHandler = () => {\r\n    if (fieldMatrix) {\r\n      setStepDone(false);\r\n      dispatch(setTempFieldMatrix(fieldMatrix));\r\n    }\r\n  };\r\n\r\n  const passHandler = () => {\r\n    if (!players || !currentPlayer || !fieldMatrix) return;\r\n    const playerIndex = players.findIndex((item) => item.name === currentPlayer.name);\r\n    const nextPlayerIndex = playerIndex + 1;\r\n    const nextPlayer = players[nextPlayerIndex] || players[0];\r\n    setStepDone(false);\r\n    setRollDiceDone(false);\r\n    dispatch(setPlayer(nextPlayer));\r\n    dispatch(setTempFieldMatrix(fieldMatrix));\r\n  };\r\n\r\n  const submitHandler = () => {\r\n    if (!players || !currentPlayer || !tempFieldMatrix) return;\r\n    const isDifferent = tempFieldMatrix?.join() !== fieldMatrix?.join();\r\n    if (tempFieldMatrix && isDifferent) {\r\n      dispatch(\r\n        setFieldMatrix(\r\n          tempFieldMatrix.map((\r\n            item //filling opacity to 1;\r\n          ) =>\r\n            item.map((item) => {\r\n              if (item) item.opacity = 1;\r\n              return item;\r\n            })\r\n          )\r\n        )\r\n      );\r\n    }\r\n    const playerIndex = players.findIndex((item) => item.name === currentPlayer.name);\r\n    const nextPlayerIndex = playerIndex + 1;\r\n    const nextPlayer = players[nextPlayerIndex] || players[0];\r\n    setStepDone(false);\r\n    setRollDiceDone(false);\r\n    currentPlayer.count = tempFieldMatrix.flat().filter((item) => item?.color === currentPlayer.color).length;\r\n    dispatch(setPlayer(Object.assign({}, currentPlayer)));\r\n    dispatch(setPlayer(nextPlayer));\r\n    const emptyCells = tempFieldMatrix.flat().filter((item) => item === null).length;\r\n    const sortByCount = players.slice().sort((a, b) => b.count - a.count);\r\n    if (emptyCells < sortByCount[0].count - sortByCount[1].count) {\r\n      alert(`PLAYER ${sortByCount[0].name} WIN`);\r\n      dispatch(setNewGame());\r\n    }\r\n  };\r\n  return (\r\n    <Card\r\n      style={{ position: 'static' }}\r\n      title={<Title player={currentPlayer} />}\r\n      actions={[\r\n        <Button\r\n          block\r\n          type='link'\r\n          title='Undo'\r\n          icon={<UndoOutlined style={{ fontSize: '28px', color: !stepDone ? 'grey' : '#ff4d4f' }} />}\r\n          disabled={!stepDone}\r\n          onClick={undoHandler}\r\n          key='undo'\r\n        />,\r\n        <Button\r\n          block\r\n          type='link'\r\n          title='Submit move'\r\n          icon={<CaretRightOutlined style={{ fontSize: '28px', color: !stepDone ? 'grey' : 'green' }} />}\r\n          disabled={!stepDone}\r\n          onClick={submitHandler}\r\n          key='submit'\r\n        />,\r\n      ]}>\r\n      <Space style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <Button\r\n          type='primary'\r\n          size='large'\r\n          title='Roll dice/Get figure'\r\n          disabled={rollDiceDone}\r\n          onClick={clickHandlerRoll}\r\n          icon={<FallOutlined />}\r\n        />\r\n        <Button\r\n          title='Rotate figure'\r\n          type='primary'\r\n          size='large'\r\n          disabled={!dices}\r\n          onClick={clickHandlerRotate}\r\n          icon={<RotateRightOutlined />}\r\n        />\r\n        <Popconfirm title='Are you sure to skip move' onConfirm={passHandler}>\r\n          <Button danger title='Skipping' size='large' icon={<FastForwardOutlined />} />\r\n        </Popconfirm>\r\n      </Space>\r\n      <div className='new-figure-wrapper'>\r\n        <div className='new-figure' ref={newFigureRef} onMouseDown={onMouseDownHandler} onMouseUp={onMouseUpHandler}>\r\n          {currentFigure &&\r\n            currentFigure.map((item, index) => (\r\n              <div key={index} className='new-figure__row'>\r\n                {item.map((item, index) => (\r\n                  <Cell key={index} item={item} width={cellWidth} height={cellHeight} />\r\n                ))}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ControlPanel;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { iState } from '../../store';\r\nimport { Space } from 'antd';\r\n\r\nconst Title = () => {\r\n  const players = useSelector((state: iState) => state.game.players);\r\n  const currentPlayer = useSelector((state: iState) => state.game.currentPlayer);\r\n  const additionScore = useSelector((state: iState) => state.game.tempFieldMatrix)\r\n    ?.flat()\r\n    .filter((item) => item?.opacity === 0.5).length;\r\n  if (!players || !currentPlayer) return null;\r\n  return (\r\n    <Space style={{ display: 'flex', justifyContent: 'space-around', alignItems: 'center' }}>\r\n      {players.map((item) => (\r\n        <div key={`${item.color}${item.count}`}>\r\n          <div>{item.name}</div>\r\n          <div style={{ color: item.color, fontSize: 12 }}>\r\n            score: {item.count + (currentPlayer.color === item.color ? additionScore || 0 : 0)}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React, { useRef, useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { iState } from '../../store';\r\nimport { setTempFieldMatrix, setCellSides } from '../../store/game/actions';\r\nimport {\r\n  isInsideGameField,\r\n  setRectangleCells,\r\n  isFirstMove,\r\n  isOverEdge,\r\n  isInCorner,\r\n  isInsertByRules,\r\n  fillFieldMatrix,\r\n} from '../../Helpers';\r\n\r\nimport './GameField.css';\r\nimport { Card } from 'antd';\r\nimport Title from './Title';\r\nimport Cell from './Cell';\r\n\r\nfunction GameField() {\r\n  const fieldMatrixRef = useRef<HTMLDivElement>(null);\r\n  const dispatch = useDispatch();\r\n  const fieldMatrix = useSelector((state: iState) => state.game.fieldMatrix);\r\n  const tempFieldMatrix = useSelector((state: iState) => state.game.tempFieldMatrix);\r\n  const cellWidth = useSelector((state: iState) => state.game.cellWidth);\r\n  const cellHeight = useSelector((state: iState) => state.game.cellHeight);\r\n\r\n  const config = useSelector((state: iState) => state.game.config);\r\n  const currentPlayer = useSelector((state: iState) => state.game.currentPlayer);\r\n  const dice = useSelector((state: iState) => state.game.dice);\r\n  const currentFigureX = useSelector((state: iState) => state.game.currentFigureX);\r\n  const currentFigureY = useSelector((state: iState) => state.game.currentFigureY);\r\n  const [geometry, setGeometry] = useState<DOMRect | null>(null);\r\n\r\n  useEffect(() => {\r\n    const resizeHandler = () => {\r\n      if (!fieldMatrixRef.current) return;\r\n      const geometry = fieldMatrixRef.current.getBoundingClientRect();\r\n      setGeometry(geometry);\r\n      if (config) dispatch(setCellSides(geometry.width / config.x, geometry.height / config.y));\r\n    };\r\n    resizeHandler();\r\n    window.addEventListener('resize', resizeHandler);\r\n    return () => window.removeEventListener('resize', resizeHandler);\r\n  }, [fieldMatrixRef]);\r\n  useEffect(() => {\r\n    if (!fieldMatrixRef.current || !geometry || !config || !tempFieldMatrix || !fieldMatrix || !dice || !currentPlayer)\r\n      return;\r\n    if (!isInsideGameField(geometry, currentFigureX, currentFigureY)) dispatch(setTempFieldMatrix(fieldMatrix));\r\n    else {\r\n      const mouseOverCellX = (currentFigureX - geometry.left) / cellWidth;\r\n      const mouseOverCellY = (currentFigureY - geometry.top) / cellHeight;\r\n      const rectCoord = setRectangleCells(mouseOverCellX, mouseOverCellY, dice);\r\n      const isFM = isFirstMove(currentPlayer?.count);\r\n      //Если фигура залазит за край поля, выходим\r\n      if (isOverEdge(rectCoord, config)) dispatch(setTempFieldMatrix(fieldMatrix));\r\n      //Если первый ход и не в углу, выходим\r\n      else if (isFM && !isInCorner(rectCoord, config)) dispatch(setTempFieldMatrix(fieldMatrix));\r\n      //Проверка по правилам ли вставка\r\n      else if (!isInsertByRules(fieldMatrix, rectCoord, currentPlayer, isFM)) dispatch(setTempFieldMatrix(fieldMatrix));\r\n      else {\r\n        const newFieldMatrix = fillFieldMatrix(fieldMatrix, rectCoord, currentPlayer.color, isFM);\r\n        dispatch(setTempFieldMatrix(newFieldMatrix));\r\n      }\r\n    }\r\n  }, [\r\n    currentFigureX,\r\n    currentFigureY,\r\n    cellWidth,\r\n    cellHeight,\r\n    config,\r\n    dispatch /*currentPlayer, dice, fieldMatrix, geometry, tempFieldMatrix */,\r\n  ]);\r\n  return (\r\n    <Card title={<Title />}>\r\n      <div ref={fieldMatrixRef} className='game-field'>\r\n        {tempFieldMatrix &&\r\n          tempFieldMatrix.map((item, index) => (\r\n            <div key={index} className='game-field__row'>\r\n              {item.map((item, index) => (\r\n                <Cell key={index} item={item} width={cellWidth} height={cellHeight} />\r\n              ))}\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default GameField;\r\n","import React from 'react';\r\nimport { Space } from 'antd';\r\nimport ControlPanel from '../ControlPanel';\r\nimport GameField from '../GameField';\r\n\r\nimport './Game.css';\r\n\r\nfunction Game() {\r\n  return (\r\n    <Space>\r\n      <ControlPanel />\r\n      <GameField />\r\n    </Space>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport './Footer.css';\r\nimport { GithubOutlined, LinkedinOutlined, SkypeOutlined, GoogleOutlined } from '@ant-design/icons';\r\n\r\nconst GITHUB_COLOR = '#323131';\r\nconst GOOGLE_COLOR = '#db493c';\r\nconst SKYPE_COLOR = '#00a4e8';\r\nconst LINKEDIN_COLOR = '#0073b2';\r\n\r\nconst style = (color: string): React.CSSProperties => ({\r\n  fontSize: 22,\r\n  color: color,\r\n  fontWeight: 'bold',\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n});\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className='footer'>\r\n      <a href='https://github.com/shersh1k' style={style(GITHUB_COLOR)}>\r\n        <GithubOutlined />\r\n        <span style={{ fontSize: 16, marginLeft: 5 }}>shersh1k</span>\r\n      </a>\r\n      <a href='mailto:shershnev942@gmail.com' style={style(GOOGLE_COLOR)}>\r\n        <GoogleOutlined />\r\n        <span style={{ fontSize: 16, marginLeft: 5 }}>shershnev942@gmail.com</span>\r\n      </a>\r\n      <a href='skype:anshersh?userinfo' style={style(SKYPE_COLOR)}>\r\n        <SkypeOutlined />\r\n        <span style={{ fontSize: 16, marginLeft: 5 }}>anshersh</span>\r\n      </a>\r\n      <a\r\n        href='https://www.linkedin.com/in/%D0%B0%D0%BD%D0%B4%D1%80%D0%B5%D0%B9-%D1%88%D0%B5%D1%80%D1%88%D0%BD%D0%B5%D0%B2-3ba8bb128/'\r\n        style={style(LINKEDIN_COLOR)}>\r\n        <LinkedinOutlined />\r\n        <span style={{ fontSize: 16, marginLeft: 5 }}>Андрей Шершнев</span>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { iState } from '../../store';\nimport Configurator from '../Configurator';\nimport Header from '../Header';\nimport Game from '../Game';\nimport Footer from '../Footer';\nimport './App.css';\n\nfunction App() {\n  const config = useSelector((state: iState) => state.game.config);\n  return (\n    <div className='app'>\n      <Header />\n      {!config ? <Configurator /> : <Game />}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\r\n  GameState,\r\n  GameActionTypes,\r\n  ROLL_THE_DICE,\r\n  ROTATE_FIGURE,\r\n  SET_CONFIG,\r\n  SET_FIGURE_POSITION,\r\n  SET_FIELD_MATRIX,\r\n  SET_FINAL_FIGURE_POSITION,\r\n  SET_TEMP_FIELD_MATRIX,\r\n  SET_PLAYER,\r\n  SET_CELL_SIDES,\r\n  SET_NEW_GAME,\r\n} from './types';\r\n\r\nconst initialState: GameState = {\r\n  config: null,\r\n  cellWidth: 0,\r\n  cellHeight: 0,\r\n  fieldMatrix: null,\r\n  tempFieldMatrix: null,\r\n  dice: null,\r\n  currentFigure: null,\r\n  players: null,\r\n  currentPlayer: null,\r\n  currentFigureX: 0,\r\n  currentFigureY: 0,\r\n};\r\n\r\nexport function gameReducer(state = initialState, action: GameActionTypes) {\r\n  switch (action.type) {\r\n    case ROLL_THE_DICE:\r\n      return { ...state, ...action };\r\n    case ROTATE_FIGURE:\r\n      return { ...state, ...action };\r\n    case SET_CONFIG:\r\n      return { ...state, ...action };\r\n    case SET_FIGURE_POSITION:\r\n      return { ...state, ...action };\r\n    case SET_FIELD_MATRIX:\r\n      return { ...state, ...action };\r\n    case SET_TEMP_FIELD_MATRIX:\r\n      return { ...state, ...action };\r\n    case SET_FINAL_FIGURE_POSITION:\r\n      return { ...state, ...action };\r\n    case SET_PLAYER:\r\n      return { ...state, ...action };\r\n    case SET_CELL_SIDES:\r\n      return { ...state, ...action };\r\n    case SET_NEW_GAME:\r\n      return { ...state, ...action };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, Middleware, Dispatch, AnyAction } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport { gameReducer } from './game/reducers';\r\nimport { GameState } from './game/types';\r\n\r\nconst middlewares: Middleware<{}, any, Dispatch<AnyAction>>[] = [thunkMiddleware];\r\nif (process.env.NODE_ENV !== 'production') middlewares.push(logger);\r\n\r\nexport const store = createStore(\r\n  combineReducers({\r\n    game: gameReducer,\r\n  }),\r\n  applyMiddleware(...middlewares)\r\n);\r\n\r\nexport interface iState {\r\n  game: GameState;\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { store } from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}